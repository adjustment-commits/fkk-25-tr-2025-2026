<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>FKK#25 Ryuki Makita｜強化期トレーニング</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0a7">
<link rel="apple-touch-icon" sizes="192x192" href="../img/icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="../img/icon-512.png">
<style>
:root{
  --ink:#111;
  --muted:#666;
  --line:#ddd;
  --bg:#f5f7f8;
  --accent:#0a7;
  --card:#fff;
  --danger:#e45757;
}
*,
*::before,
*::after{ box-sizing:border-box; }
body{
  margin:0;
  font-family:system-ui,-apple-system,"SF Pro Text","Noto Sans JP",sans-serif;
  background:var(--bg);
  color:var(--ink);
  text-rendering:optimizeLegibility;
}

/* header */
header{
position:sticky;
top:0;
z-index:10;
background:#fff;
border-bottom:1px solid var(--line);
}
.header-inner{
max-width:1120px;
margin:0 auto;
padding:10px 16px 12px;
display:flex;
align-items:flex-start;
justify-content:space-between;
gap:12px;
}
.title-block{ min-width:0; }
h1{
margin:0 0 4px;
font-size:18px;
font-weight:600;
}
.sub{
margin:0;
font-size:12px;
color:var(--muted);
line-height:1.6;
}

/* tabs */
.tabs{
max-width:1120px;
margin:0 auto;
padding:8px 16px 10px;
display:flex;
flex-wrap:wrap;
gap:8px;
}
.tab{
border-radius:999px;
border:1px solid var(--line);
padding:6px 10px;
background:#fff;
font-size:12px;
cursor:pointer;
color:var(--muted);
}
.tab.active{
border-color:var(--accent);
background:var(--accent);
color:#fff;
}

/* main layout */
main{
max-width:1120px;
margin:0 auto 32px;
padding:0 16px 24px;
}
section{
background:var(--card);
border-radius:12px;
border:1px solid var(--line);
padding:14px 14px 10px;
margin-top:12px;
}
section h2{
margin:0 0 8px;
font-size:15px;
}
.meta-row{
display:flex;
flex-wrap:wrap;
gap:6px;
margin-bottom:6px;
}
.chip{
display:inline-flex;
align-items:center;
gap:4px;
padding:3px 8px;
border-radius:999px;
border:1px solid var(--line);
font-size:11px;
color:var(--muted);
background:#fff;
}
.chip strong{
font-weight:600;
color:var(--ink);
}
.chip-accent{
border-color:rgba(0,170,119,0.18);
background:rgba(0,170,119,0.03);
}

/* exercise cards */
.ex-list{
display:flex;
flex-direction:column;
gap:8px;
}
.ex{
border-radius:10px;
border:1px solid rgba(0,0,0,0.06);
background:#fafafa;
padding:8px 10px;
}
.ex-head{
display:flex;
justify-content:space-between;
align-items:center;
gap:6px;
margin-bottom:4px;
}
.ex-name{
font-size:13px;
font-weight:600;
color:var(--accent);
}
.ex-tags{
display:flex;
flex-wrap:wrap;
gap:4px;
}
.tag{
font-size:10px;
padding:2px 6px;
border-radius:999px;
border:1px solid rgba(0,0,0,0.08);
color:var(--muted);
}
.tag-danger{
border-color:rgba(228,87,87,0.35);
color:var(--danger);
}
.ex-meta{
font-size:11px;
color:var(--muted);
line-height:1.6;
margin-bottom:3px;
}
.ex-desc{
margin:0;
font-size:11px;
line-height:1.7;
}
.btn{
border-radius:999px;
border:1px solid var(--line);
padding:4px 8px;
font-size:10px;
background:#fff;
color:var(--muted);
cursor:pointer;
}
.btn-ill{ white-space:nowrap; }

/* conditioning block */
.cond-main{
font-size:12px;
margin:0 0 4px;
}
.cond-detail{
font-size:11px;
color:var(--muted);
margin:0;
line-height:1.7;
}

/* modal */
.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.45);
display:none;
align-items:center;
justify-content:center;
z-index:20;
}
.modal.open{ display:flex; }
.modal-card{
width:min(92vw,760px);
border-radius:12px;
background:#fff;
padding:10px 10px 12px;
box-shadow:0 16px 40px rgba(0,0,0,0.32);
}
.modal-head{
display:flex;
justify-content:space-between;
align-items:center;
gap:8px;
margin-bottom:6px;
}
.modal-title{
font-size:14px;
font-weight:600;
}
.modal-body{ min-height:120px; }
.modal-body img{
width:100%;
height:auto;
border-radius:8px;
border:1px solid var(--line);
}
.placeholder{
border-radius:8px;
border:1px dashed var(--line);
background:#fafafa;
padding:32px 16px;
text-align:center;
font-size:12px;
color:var(--muted);
}

/* RESPONSIVE */
@media (max-width:640px){
.header-inner{
flex-direction:column;
align-items:flex-start;
}
}
</style>

</head>
<body>
<header>
  <div class="header-inner">
    <div class="title-block">
      <h1>FKK#25 Ryuki Makita｜強化期トレーニング</h1>
      <p class="sub">
        週2ムーブメント（自走式）＋週4ウエイト（電動式）＋晴天時ロードワーク。<br>
        テーマ：骨盤滑走／分離／再統合（Day1・3は特化、Day2・4・5・6は出力最大化）
      </p>
    </div>
  </div>
  <div class="tabs" id="tabs"></div>
</header>
<main id="content"></main>
<div class="modal" id="modal">
  <div class="modal-card">
    <div class="modal-head">
      <div class="modal-title" id="modalTitle">エクササイズ画像</div>
      <button class="btn" id="modalClose">閉じる</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<script>
let currentDayType = null;
/* --------------------------------------------------
   プログラム定義
-------------------------------------------------- */
const PROGRAM = [
  {
    id:"day1",
    title:"Day1｜ムーブメントA（ブルガリアン特化：縦×並進×逆回旋）",
    type:"movement",
    goal:"ブルガリアン系で「肋骨逆回旋 → 軸足回旋 → 骨盤滑走」を固定。工具（MB/RC/SB/WB/PL/バンド）で同一課題を多角度反復。",
    place:"室内トレーニングエリア／自走式トレッドミル",
    focus:["ブルガリアン基盤","肋骨逆回旋→軸足回旋","骨盤滑走（並進）"],
    warmup:[
      {
        name:"A｜仰臥位・骨盤−股関節 分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★☆☆",
        cue:"両腕を広げ、両膝を曲げて肩幅に開く。<br>肋骨主導で骨盤を回旋させ、このとき軸足は残す。<br>股関節の最大外旋を感じたら、遅れて軸足を内旋させる。<br>元に戻して繰り返す。",
        img:"../img/build/wu-a-supine-pelvis.jpg"
      },
      {
        name:"B｜仰臥位＋DB・体幹−肩甲帯 分離",
        sets:"2",
        reps:"各方向10回",
        load:"ダンベル軽量",
        level:"★★☆",
        cue:"片腕を広げ、逆腕にダンベルを持って天井へ固定。<br>肋骨で骨盤を回旋させる際もダンベルは動かさない。<br>股関節最大外旋後に軸足を内旋させ、ダンベル側肩甲骨の内旋を感じる。",
        img:"../img/build/wu-b-db-rotation.jpg"
      },
      {
        name:"C｜仰臥位・片脚挙上 股関節分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★★☆",
        cue:"両腕を広げ、両膝を曲げ片方を上げる。<br>軸足側を意図的に残して肋骨を回旋しながらヒップリフト。<br>腰で反らず軸足から他部位が離れていくイメージ。",
        img:"../img/build/wu-c-leglift.jpg"
      },
      {
        name:"D｜仰臥位・両脚挙上 骨盤制御",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★★☆",
        cue:"両腕を広げ、両脚を揃えて持ち上げる。<br>肋骨で骨盤を回旋させる際、軸足側を意図的に残す。<br>腰で反らず、腹部の緊張を保ったまま行う。",
        img:"../img/build/wu-d-bothlegs-pelvis.jpg"
      },
      {
        name:"E｜横臥位・胸郭回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★☆☆",
        cue:"両膝を曲げて重ね、両腕を胸前で重ねる。<br>肋骨を回旋させると上側の腕が自然にずれる。<br>顔と骨盤は一切動かさない。",
        img:"../img/build/wu-e-side-rib.jpg"
      },
      {
        name:"F｜四つん這い・支持側固定 回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★★☆",
        cue:"四つん這いで片手を頭に添える。<br>支持側の腕を支点に肋骨を回旋させる。<br>頭と添えた腕は動かさず、胸郭だけを動かす。",
        img:"../img/build/wu-f-quadruped-rot.jpg"
      },
      {
        name:"G｜スプリット肋骨回旋",
        sets:"2",
        reps:"各方向10回",
        load:"自重〜MB",
        level:"★★☆",
        cue:"前脚の足底を強く感じたスプリットポジションでMBを保持。<br>肋骨を後脚方向へ回旋させ、骨盤は安定させる。<br>元に戻して繰り返す。",
        img:"../img/build/wu-g-split-rib.jpg"
      }
    ],
    drills:[
      {
        name:"HEXバー・デッドリフト（ロー・ハンドル）",
        sets:"3",
        reps:"4回",
        load:"75〜85％1RM（RPE8）",
        level:"★★★",
        cue:"背中を固めすぎず股関節に余白。<br>立ち上がりで“地面を後ろに蹴る”イメージで骨盤を前へ。",
        img:"../img/build/d1-11-hex-low.jpg"
      },
      
      {
        name:"シャフト担ぎ・スプリットランジ回旋",
        sets:"2",
        reps:"各側10回",
        load:"シャフト（10kg）",
        level:"★★☆",
        cue:"シャフト担ぎ。<br>下降中に肋骨回旋→それ以外は動かない。<br>肋骨だけ分離させて動かすイメージ。",
        img:"../img/build/d1-12-shaft-splitlunge-rot.jpg"
      },
      {
        name:"後脚レッドコード・ブルガリアン回旋",
        sets:"2",
        reps:"各側8回",
        load:"自重（RC）",
        level:"★★☆",
        cue:"後脚をレッドコードに掛け両手プレート保持。前脚支持で下降しながら肩甲帯逆回旋。<br>後脚が残れないと崩れる。",
        img:"../img/build/d1-13-rc-rear-bulgarian-rot.jpg"
      },
      {
        name:"ウォーターバッグ・ブルガリアン逆回旋",
        sets:"2",
        reps:"各側10回",
        load:"ウォーターバッグ（胸前保持）",
        level:"★★☆",
        cue:"胸前でバッグ保持。<br>肋骨のみ逆回旋させる。<br>※上下動はいらない。",
        img:"../img/build/d1-14-wb-bulgarian-counterrot.jpg"
      },
     {
  name:"10kgプレート・バンド抵抗スプリットランジ",
  sets:"2",
  reps:"各側10回",
  load:"10kgプレート＋バンド（前脚側から横引き）",
  level:"★★☆",
  cue:
  "前脚側から横方向にバンドで引かれた状態を作る。<br>" +
  "胸前で10kgプレートを保持し、肋骨は一切操作しない。<br>" +
  "下降では前脚足底で外乱を受け続ける。<br>" +
  "立ち上がりで体幹を起こさず、脚で床を押し続ける。<br>" +
  "その結果として、遅れて肋骨が前上方へ自然に解放される感覚を作る。",
  img:"../img/build/d1-15-plate-band-splitlunge.jpg"
},
      
      {
       name:"パワーポジション・MB入れ替え回旋",
       sets:"2",
       reps:"各側8〜10回",
       load:"MB またはプレート",
       level:"★★☆",
       cue:"パワーポジションで左脚支持。<br>MB（またはプレート）を左脚横で保持し、胸郭は右回旋。<br>胸郭を左へ回旋すると同時に、MBを右肩上へ素早く入れ替える。<br>反対側も同様に行う。",
       img:"../img/build/d1-17-powerpos-mb-switch.jpg"
     },
    ],
    conditioning:{
      name:"自走式トレッドミル・滑走インターバル",
      main:"20秒（フォーム優先）× 6本（RPE8前後）",
      detail:"各本 90〜120秒ウォーク。<br>接地音を消し、骨盤が前へ流れ続けることだけを守る。"
    }
  },
        
  {
    id:"day2",
    title:"Day2｜上半身ウエイト①（押し引き）＋電動式",
    type:"weight",
    goal:"上半身の出力維持と肩甲帯の安定。バットスピードを支える押し引き土台。",
    place:"ジム（バーベル／ダンベル）＋電動式トレッドミル",
    focus:["ベンチ系プレス","プル系での肩甲骨制御","胸郭−肩甲帯の分離"],
    warmup:[
      {
  name:"四つん這い・リブケージ front-back",
  sets:"1〜2",
  reps:"各10回",
  load:"自重",
  level:"★☆☆",
  cue:"四つん這いで肋骨を前後にスライドさせ、骨盤は動かさない。",
  img:"../img/build/wu-4p-rib-front-back.jpg"
  },
      {
       name:"四つん這い・支持側固定 回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★★☆",
        cue:"四つん這いで片手を頭に添える。<br>支持側の腕を支点に肋骨を回旋させる。<br>頭と添えた腕は動かさず、胸郭だけを動かす。",
        img:"../img/build/wu-f-quadruped-rot.jpg"
      }
    ],
    drills:[
      {
        name:"ベンチプレス",
        sets:"4",
        reps:"4回",
        load:"75〜85％1RM（RPE7〜8）",
        level:"★★★",
        cue:"肩甲骨を寄せて下制し、胸のやや下側にバーを下ろす。<br>足底でしっかり床を押し、骨盤〜胸郭でアーチを支える。",
        img:"../img/build/d2-11-bench.jpg"
      },
      {
        name:"ラットプルダウン",
        sets:"4",
        reps:"6〜8回",
        load:"自重＋加重または体重の70〜90％",
        level:"★★★",
        cue:"胸を前に突き出し過ぎない。<br>最初に肩甲骨を下制し、その後で肘を引く。<br>顎をバーに“当てにいかない”。",
        img:"../img/build/d2-12-pullup.jpg"
      },
      {
        name:"インクラインダンベルプレス",
        sets:"3",
        reps:"8回",
        load:"およそ1RMの65〜70％（RPE7）",
        level:"★★☆",
        cue:"シート角度：30°〜45°（まず30°基準）。<br>挙上方向：胸上部から“斜め前上（目線方向）”へ。<br>トップで肩をすくめず、肘は肩よりやや下のラインを通す。",
        img:"../img/build/d2-13-incline-db.jpg"
      },
      {
        name:"ワンアーム・ダンベルロウ",
        sets:"3",
        reps:"各腕10回",
        load:"ダンベル30〜45kg（RPE7）",
        level:"★★☆",
        cue:"骨盤と肋骨を固定し、腕ではなく背中で引く。<br>ダンベルは腰骨の方向へ斜め後ろに引き、下ろす時もコントロール。",
        img:"../img/build/d2-14-1arm-row.jpg"
      },
      {
        name:"ケーブル／バンド・ローテーションプレス",
        sets:"3",
        reps:"各側8回",
        load:"RPE7（体幹が負けない負荷）",
        level:"★★☆",
        cue:"骨盤は正対のまま、胸郭だけを軽く回旋してからプレス。<br>“骨盤で壁を押さえ、胸でドアを開ける”感覚。",
        img:"../img/build/d2-15-rot-press.jpg"
      }
    ],
    conditioning:{
      name:"電動式トレッドミル・テンポ走",
      main:"30秒やや速め（試合時70％速度）＋30秒ウォーク × 10本",
      detail:"HRは150〜170bpmを目安。<br>上半身はリラックス、腕振りはスイングプレーンに近い角度を意識。"
    }
  },

  {
    id:"day3",
    title:"Day3｜ムーブメントB（サイド特化：横並進×逆回旋）",
    type:"movement",
    goal:"横に踏み出す局面（投球/打撃の横移動）で「接地直前の逆回旋→支持成立→滑走」を固定。前脚RCを採用。",
    place:"室内トレーニングエリア／自走式トレッドミル",
    focus:["横並進（サイド）","接地直前の肋骨逆回旋","前脚支持（RC）"],
    warmup:[
      {
        name:"A｜仰臥位・骨盤−股関節 分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★☆☆",
        cue:"両腕を広げ、両膝を曲げて肩幅に開く。<br>肋骨主導で骨盤を回旋させ、このとき軸足は残す。<br>股関節の最大外旋を感じたら、遅れて軸足を内旋させる。<br>元に戻して繰り返す。",
        img:"../img/build/wu-a-supine-pelvis.jpg"
      },
      {
        name:"B｜仰臥位＋DB・体幹−肩甲帯 分離",
        sets:"2",
        reps:"各方向10回",
        load:"ダンベル軽量",
        level:"★★☆",
        cue:"片腕を広げ、逆腕にダンベルを持って天井へ固定。<br>肋骨で骨盤を回旋させる際もダンベルは動かさない。<br>股関節最大外旋後に軸足を内旋させ、ダンベル側肩甲骨の内旋を感じる。",
        img:"../img/build/wu-b-db-rotation.jpg"
      },
      {
        name:"C｜仰臥位・片脚挙上 股関節分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★★☆",
        cue:"両腕を広げ、両膝を曲げ片方を上げる。<br>軸足側を意図的に残して肋骨を回旋しながらヒップリフト。<br>腰で反らず軸足から他部位が離れていくイメージ。",
        img:"../img/build/wu-c-leglift.jpg"
      },
      {
        name:"D｜仰臥位・両脚挙上 骨盤制御",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★★☆",
        cue:"両腕を広げ、両脚を揃えて持ち上げる。<br>肋骨で骨盤を回旋させる際、軸足側を意図的に残す。<br>腰で反らず、腹部の緊張を保ったまま行う。",
        img:"../img/build/wu-d-bothlegs-pelvis.jpg"
      },
      {
        name:"E｜横臥位・胸郭回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★☆☆",
        cue:"両膝を曲げて重ね、両腕を胸前で重ねる。<br>肋骨を回旋させると上側の腕が自然にずれる。<br>顔と骨盤は一切動かさない。",
        img:"../img/build/wu-e-side-rib.jpg"
      },
      {
        name:"F｜四つん這い・支持側固定 回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★★☆",
        cue:"四つん這いで片手を頭に添える。<br>支持側の腕を支点に肋骨を回旋させる。<br>頭と添えた腕は動かさず、胸郭だけを動かす。",
        img:"../img/build/wu-f-quadruped-rot.jpg"
      },
      {
        name:"G｜スプリット肋骨回旋",
        sets:"2",
        reps:"各方向10回",
        load:"自重〜MB",
        level:"★★☆",
        cue:"前脚の足底を強く感じたスプリットポジションでMBを保持。<br>肋骨を後脚方向へ回旋させ、骨盤は安定させる。<br>元に戻して繰り返す。",
        img:"../img/build/wu-g-split-rib.jpg"
      }
    ],
    drills:[
      {
        name:"シャフト担ぎ・サイドステップ逆回旋",
        sets:"2",
        reps:"各側10回",
        load:"シャフト（20kg）",
        level:"★★☆",
        cue:"横に踏み出し、接地直前で肋骨逆回旋。<br>軸足回旋が自然に起きるか確認。",
        img:"../img/build/d3-11-shaft-sidestep-counterrot.jpg"
      },
      {
        name:"前脚レッドコード・サイドランジ",
        sets:"2",
        reps:"各側8回",
        load:"自重（RC）",
        level:"★★☆",
        cue:"前脚をレッドコードに軽く掛ける。<br>体重を預けず、支持を作りに行く。",
        img:"../img/build/d3-12-rc-front-sidelunge.jpg"
      },
      {
        name:"スライドボード・サイド滑走回旋",
        sets:"2",
        reps:"各10回",
        load:"スライドボード",
        level:"★★☆",
        cue:"遊脚スライド。並進中に肋骨逆回旋を維持。<br>支持脚がブレーキにならないこと。",
        img:"../img/build/d3-13-sb-sideglide-counterrot.jpg"
      },
      {
        name:"ウォーターバッグ・サイドランジホールド",
        sets:"2",
        reps:"30秒",
        load:"ウォーターバッグ（胸前保持）",
        level:"★★☆",
        cue:"最下位でホールド。バッグ胸前。<br>逆回旋-回旋で微細に振動<br>支持＋分離を同時成立させる。",
        img:"../img/build/d3-14-wb-sidelunge-hold.jpg"
      },
      {
        name:"プレート・ラテラルジャンプキャッチ",
        sets:"2",
        reps:"各側10回",
        load:"プレート",
        level:"★★☆",
        cue:"ラテラルジャンプ接地と同時に逆回旋。<br>止まらず“流す”感覚を作る。",
        img:"../img/build/d3-15-plate-lateraljump-catch.jpg"
      },
      {
        name:"シャフト担ぎ・逆回旋入れ替えスイング",
        sets:"2",
        reps:"各側10回",
        load:"シャフト（10kg）",
        level:"★★☆",
        cue:"シャフトを担いでバッティングスタンス。<br>スタートは肋骨回旋。<br>逆回旋と同時に軸足が抜ける。<br>肩甲帯がシャフトをスイング",
        img:"../img/build/d3-16-band-lateral-drive.jpg"
      },

        {
        name:"スプリット・MB入れ替え回旋",
        sets:"2",
        reps:"各側8〜10回",
        load:"MB またはプレート",
        level:"★★☆",
        cue:"スプリットポジション（左脚前）。<br>MB（またはプレート）を左脚横で保持し、胸郭は右回旋。<br>胸郭を左へ回旋すると同時に、MBを右肩上へ入れ替える。<br>骨盤は流しすぎず、支持脚で地面を捉え続ける。<br>反対側も同様に行う。",
        img:"../img/build/d3-17-split-mb-switch.jpg"
      }
    ],
    conditioning:{
      name:"自走式トレッドミル・回旋意識走",
      main:"20秒 × 6本（RPE8前後）",
      detail:"各本 90〜120秒ウォーク。<br>遊脚側をわずかに外旋させ、骨盤が前方に滑り続ける感覚を意識。"
    }
  },

  {
    id:"day4",
    title:"Day4｜下半身ウエイト（MAX寄り）＋電動式",
    type:"weight",
    goal:"スクワット・デッドリフト系の出力維持と、骨盤滑走を伴う伸展パワー強化。",
    place:"ジム（バーベル／HEXバー）＋電動式トレッドミル",
    focus:["スクワット","ヒップヒンジ","片脚安定"],
    warmup:[
      {
        name:"仰臥位・骨盤−股関節 分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★☆☆",
        cue:"両腕を広げ、両膝を曲げて肩幅に開く。<br>肋骨主導で骨盤を回旋させ、このとき軸足は残す。<br>股関節の最大外旋を感じたら、遅れて軸足を内旋させる。<br>元に戻して繰り返す。",
        img:"../img/build/wu-a-supine-pelvis.jpg"
      },
      {
        name:"トライポッド・カーフレイズ",
        sets:"1〜2",
        reps:"60秒",
        load:"自重",
        level:"★☆☆",
        cue:"母指球・小趾球・踵の3点を常に感じてカーフレイズ。",
        img:"../img/build/wu-tripod-calfraise1.jpg"
      },
      {
        name:"トライポッド・テンポスクワット",
        sets:"2",
        reps:"6回",
        load:"自重〜プレート10kg",
        level:"★☆☆",
        cue:"3秒でしゃがみ、ボトムで1秒静止。<br>足底3点を潰さず、膝と骨盤が同時に動く感覚。",
        img:"../img/build/wu-tripod-squat.jpg"
      }
    ],
    drills:[
      {
        name:"バックスクワット",
        sets:"5",
        reps:"3回",
        load:"80〜85％1RM（RPE8〜8.5）",
        level:"★★★",
        cue:"下降2秒、ボトムで1秒静止→爆発的に立つ。<br>立ち上がりで骨盤が先に前へ滑り、胸はやや遅れてついてくる感覚。",
        img:"../img/build/d4-11-back-sq.jpg"
      },
      {
        name:"RDL（ルーマニアンデッドリフト）",
        sets:"4",
        reps:"6回",
        load:"70〜75％1RM（RPE7〜8）",
        level:"★★★",
        cue:"膝角度はほぼ固定。<br>ハムの伸張感で止め、骨盤を前へ送り戻す。",
        img:"../img/build/d4-12-rdl.jpg"
      },
     
      {
        name:"フロントフットエレベーテッド・スプリットスクワット",
        sets:"3",
        reps:"各脚6〜8回",
        load:"ダンベル各15〜25kg（RPE7）",
        level:"★★☆",
        cue:"前脚足底で床をつかみ、膝を前へ送る。<br>深い屈曲から前脚で床を押して立ち上がる。",
        img:"../img/build/d4-13-ffess.jpg"
      },
       {
        name:"スプリット-シングルレッグアップ",
        sets:"2",
        reps:"8回",
        load:"20〜30kg（RPE8）",
        level:"★★★",
        cue:"シャフトを担いでスプリットスタンス。<br>足底バランスを維持して後の脚を一気にひきあげる。",
        img:"../img/build/d4-14-split-single.jpg"
      },
      {
        name:"クロスバックランジ",
        sets:"3",
        reps:"各脚8回",
        load:"自重〜プレート10kg",
        level:"★★☆",
        cue:"支持脚の股関節を深く折り、滑らせる脚は後方斜めにクロス。<br>骨盤が流れすぎない範囲で張りを感じる。",
        img:"../img/build/d4-15-cross.jpg"
      }
    ],
    conditioning:{
      name:"電動式トレッドミル・レピティション走",
      main:"20秒速め＋40秒ウォーク × 8本（HR170前後）",
      detail:"スプリントではなく“長い一塁到達”イメージ。<br>ピッチは抑え、1歩あたりの接地時間を短くする。"
    }
  },

  {
    id:"day5",
    title:"Day5｜全身パワーウエイト＋電動式",
    type:"weight",
    goal:"バットスピードと体幹トルクの橋渡しとなる全身パワー強化。",
    place:"ジム＋電動式トレッドミル",
    focus:["オリンピックリフト系","ローテーションパワー","体幹剛性"],
    warmup:[
      {
        name:"仰臥位・片脚挙上 股関節分離",
        sets:"2",
        reps:"各方向10回",
        load:"自重",
        level:"★★☆",
        cue:"両腕を広げ、両膝を曲げ片方を上げる。<br>軸足側を意図的に残して肋骨を回旋しながらヒップリフト。<br>腰で反らず軸足から他部位が離れていくイメージ。",
        img:"../img/build/wu-c-leglift.jpg"
      },
      {
       name:"トライポッド・カーフレイズ2",
        sets:"1〜2",
        reps:"60秒",
        load:"自重",
        level:"★☆☆",
        cue:"重心を落として母指球・小趾球・踵の3点を常に感じてカーフレイズ。",
        img:"../img/build/wu-tripod-calfraise2.jpg"
      },
      {
        name:"トライポッド・ヒップヒンジ",
        sets:"2",
        reps:"6回",
        load:"プレート5〜10kg",
        level:"★☆☆",
        cue:"足底3点を残したまま股関節だけを折る。<br>脛はほぼ垂直、骨盤が後ろ→前へスライドする感覚。",
        img:"../img/build/wu-tripod-hinge.jpg"
      }
    ],
    drills:[
      {
        name:"ハングクリーン（膝上スタート）",
        sets:"5",
        reps:"3回",
        load:"1RMの65〜75％（RPE7〜8）",
        level:"★★★",
        cue:"第2引きで床を強く押し、骨盤を前に滑らせながら全身を伸ばす。<br>キャッチは深くしゃがみ込み過ぎず、素早く受け止める。",
        img:"../img/build/d5-11-hang-clean.jpg"
      },
      {
        name:"フロントスクワット",
        sets:"4",
        reps:"4回",
        load:"70〜80％1RM（RPE7〜8）",
        level:"★★★",
        cue:"肘を高く保ち、胸郭をつぶさない。<br>下降2秒→一瞬止めてから爆発的に立つ。",
        img:"../img/build/d5-12-front-sq.jpg"
      },
      {
        name:"ベントオーバーロウ",
        sets:"4",
        reps:"6回",
        load:"70〜75％1RM（RPE7〜8）",
        level:"★★★",
        cue:"ヒンジ姿勢を保ったままへそ付近へ引く。<br>肋骨を締めたまま上背部で引く。",
        img:"../img/build/d5-13-bent-row.jpg"
      },
      {
        name:"ローテーショナルMBハロプレス",
        sets:"4",
        reps:"各側6回",
        load:"MB2〜3kg",
        level:"★★☆",
        cue:"肋骨を先行させる。<br>肋骨逆回旋をきっかけにMBを正面にプレス",
        img:"../img/build/d5-14-rot-press.jpg"
      },
    ],
    conditioning:{
      name:"電動式トレッドミル・持久走（中強度）",
      main:"8〜10分 × 2本（HR150〜160bpm、RPE6〜7）",
      detail:"ピッチよりストライド重視。<br>上半身のブレを抑え、骨盤の前後スライドを感じながら“長く走れるフォーム”を探す。"
    }
  },

  {
    id:"day6",
    title:"Day6｜予備ウエイト（弱点補強DAY）＋電動式",
    type:"weight",
    goal:"臀筋・ハム・肩甲帯の弱点補強と左右差の修正（疲労に応じて調整）。",
    place:"ジム＋電動式トレッドミル",
    focus:["ハムストリング","臀筋","肩甲帯スタビリティ"],
    warmup:[
      {
        name:"横臥位・胸郭回旋",
        sets:"2",
        reps:"10回",
        load:"自重",
        level:"★☆☆",
        cue:"両膝を曲げて重ね、両腕を胸前で重ねる。<br>肋骨を回旋させると上側の腕が自然にずれる。<br>顔と骨盤は一切動かさない。",
        img:"../img/build/wu-e-side-rib.jpg"
      },
      {
        name:"トライポッド・シングルカーフ",
        sets:"1〜2",
        reps:"60秒",
        load:"自重",
        level:"★☆☆",
        cue:"足底3点を常に感じたまま交互にカーフレイズ。",
        img:"../img/build/wu-single-calf.jpg"
      }
    ],
    drills:[
      {
        name:"レッグカール",
        sets:"3",
        reps:"10〜12回",
        load:"60〜70％1RM（RPE7）",
        level:"★☆☆",
        cue:"マシンでレッグカール",
        img:"../img/build/d6-11-legcurl.jpg"
      },
      {
        name:"ヒップスラスト（軽〜中負荷ボリューム）",
        sets:"3",
        reps:"10〜12回",
        load:"60〜70％1RM（RPE7）",
        level:"★★☆",
        cue:"肩甲骨をベンチに乗せ、骨盤後傾を保ったままお尻を締める。<br>トップで1秒静止→コントロールして下ろす。",
        img:"../img/build/d6-12-hipthrust.jpg"
      },
      {
        name:"サイドライイング・ヒップアブダクション",
        sets:"3",
        reps:"各脚15回",
        load:"ループバンド軽〜中",
        level:"★☆☆",
        cue:"骨盤をわずかに前傾、つま先を少し下向きにして脚を上げる。<br>中殿筋の焼ける張りを狙う。",
        img:"../img/build/d6-13-side-abd.jpg"
      },
      {
        name:"インバーテッドロウ",
        sets:"3",
        reps:"8〜12回",
        load:"自重（足位置で強度調整）",
        level:"★★☆",
        cue:"体を一直線に保ち胸をバーに近づける。<br>肩をすくめず肩甲骨を背骨に寄せる感覚で引く。",
        img:"../img/build/d6-14-inv-row.jpg"
      },
     
    ],
    conditioning:{
      name:"電動式トレッドミル・リカバリー走",
      main:"5分ジョグ（HR130〜140）＋5分ウォーク",
      detail:"1週間の疲労を抜く目的。<br>呼吸と足音を静かに保ち、フォームのチェック時間として使う。"
    }
  },

  {
    id:"outdoor",
    title:"OUTDOOR｜晴天時ロードワーク（500mコース）",
    type:"road",
    goal:"無酸素優位の選手が追い込める心肺メニュー。",
    place:"500m周回路／河川敷など",
    focus:["VO2max向上","ランニングエコノミー","メンタルコントロール"],
    warmup:[
      {
        name:"ジョグ＋モビリティ",
        sets:"1",
        reps:"ジョグ5分＋動的ストレッチ5分",
        load:"自重",
        level:"★☆☆",
        cue:"ゆっくりジョグで体温を上げ、股関節・足首・胸郭を中心に動的ストレッチ。<br>息が弾む手前まで。",
      }
    ],
    drills:[
      {
        name:"メインA：500mレペティション",
        sets:"4〜6本",
        reps:"1本あたり500m",
        load:"目標 1分50秒〜2分00秒（RPE7）",
        level:"★★☆",
        cue:"1〜2本目は余裕、3本目以降で少しだけペースアップ。<br>HR180近くで“頭が熱くなる一歩手前”まで。",
      },
      {
        name:"メインB：50mストライド",
        sets:"8〜10本",
        reps:"1本あたり50m",
        load:"最大の70〜80％",
        level:"★★☆",
        cue:"スタートはリラックスして加速し、30〜40m付近で滑走感のフォームを確認。<br>完全ダッシュにはしない。",
      },
      {
        name:"オプション：800m×3（試合前コンディション）",
        sets:"3本",
        reps:"1本あたり800m",
        load:"目標 3分00秒前後（RPE6〜7）",
        level:"★★☆",
        cue:"フォーム維持を最優先。HR170前後まで。<br>追い込みすぎて頭痛が出る手前で止める。",
      }
    ],
    conditioning:{
      name:"クールダウン",
      main:"ジョグ3〜5分＋ウォーク3分＋ストレッチ5分",
      detail:"呼吸を整えながら、ふくらはぎ・ハム・股関節前面を重点的にストレッチ。<br>HRが120以下になったところで終了。"
    }
  }
];

/* --------------------------------------------------
   タブ生成と描画
-------------------------------------------------- */
const tabsEl = document.getElementById("tabs");
const contentEl = document.getElementById("content");
const modal = document.getElementById("modal");
const modalTitle = document.getElementById("modalTitle");
const modalBody = document.getElementById("modalBody");
const modalClose = document.getElementById("modalClose");

PROGRAM.forEach((day, idx)=>{
  const btn = document.createElement("button");
  btn.className = "tab" + (idx===0 ? " active" : "");
  btn.textContent = day.title.split("｜")[0];
  btn.dataset.id = day.id;
  btn.addEventListener("click", ()=>switchDay(day.id));
  tabsEl.appendChild(btn);
});

function switchDay(id){
  [...tabsEl.children].forEach(tab=>{
    tab.classList.toggle("active", tab.dataset.id === id);
  });
  const day = PROGRAM.find(d=>d.id===id);
  renderDay(day);
}

function renderDay(day){
  if(!day) return;
  currentDayType = day.type;
  contentEl.innerHTML = "";

  const headSec = document.createElement("section");
  const metaChips = `
    <div class="meta-row">
      <div class="chip chip-accent"><strong>タイプ</strong>：${labelType(day.type)}</div>
      <div class="chip"><strong>場所</strong>：${escapeHtml(day.place || "—")}</div>
      <div class="chip"><strong>主な目的</strong>：${escapeHtml(day.goal || "—")}</div>
    </div>
    <div class="meta-row">
      ${(day.focus||[]).map(f=>`<div class="chip">${escapeHtml(f)}</div>`).join("")}
    </div>
  `;
  headSec.innerHTML = `<h2>${escapeHtml(day.title)}</h2>${metaChips}`;
  contentEl.appendChild(headSec);

  if(day.warmup && day.warmup.length){
    contentEl.appendChild(buildExerciseSection("ウォームアップ", day.warmup));
  }
  if(day.drills && day.drills.length){
    contentEl.appendChild(buildExerciseSection("メインエクササイズ", day.drills));
  }
  if(day.conditioning){
    const condSec = document.createElement("section");
    condSec.innerHTML = `
      <h2>${day.type==="road" ? "メイン／クールダウン" : "コンディショニング（走／有酸素）"}</h2>
      <p class="cond-main">${escapeHtml(day.conditioning.name)}：${escapeHtml(day.conditioning.main)}</p>
      <p class="cond-detail">${day.conditioning.detail || ""}</p>
    `;
    contentEl.appendChild(condSec);
  }
}

function buildExerciseSection(title, list){
  const sec = document.createElement("section");
  sec.innerHTML = `<h2>${escapeHtml(title)}</h2>`;
  const wrap = document.createElement("div");
  wrap.className = "ex-list";

  list.forEach(ex=>{
    const card = document.createElement("article");
    card.className = "ex";

    const head = document.createElement("div");
    head.className = "ex-head";

    const nameSpan = document.createElement("div");
    nameSpan.className = "ex-name";
    nameSpan.textContent = ex.name || ex.ex || "";
    head.appendChild(nameSpan);

    const tags = document.createElement("div");
    tags.className = "ex-tags";

    if(ex.level){
      const t = document.createElement("span");
      t.className = "tag";
      t.textContent = `難易度：${ex.level}`;
      tags.appendChild(t);
    }

    /* ===== ここが重要 =====
       road（ロードワーク）の場合は
       画像ボタンを一切出さない
    ======================= */
    if(currentDayType !== "road"){
      const btn = document.createElement("button");
      btn.className = "btn btn-ill";
      btn.textContent = "🖼 イラスト";
      btn.dataset.name = ex.name || ex.ex || "";
      btn.dataset.img = ex.img || "";
      tags.appendChild(btn);
    }

    head.appendChild(tags);
    card.appendChild(head);

    const meta = document.createElement("div");
    meta.className = "ex-meta";
    meta.textContent =
      `セット：${ex.sets || "—"} ／ 回数・時間：${ex.reps || "—"} ／ 負荷目安：${ex.load || "—"}`;
    card.appendChild(meta);

    const desc = document.createElement("p");
    desc.className = "ex-desc";
    desc.innerHTML = (ex.cue || ex.desc || "").replace(/\n/g,"<br>");
    card.appendChild(desc);

    wrap.appendChild(card);
  });

  sec.appendChild(wrap);
  return sec;
}
function labelType(type){
  if(type==="movement") return "ムーブメント＋自走式";
  if(type==="weight") return "ウエイト＋電動式";
  if(type==="road") return "ロードワーク";
  return "未設定";
}

/* --------------------------------------------------
   モーダル
-------------------------------------------------- */
function openModal(title, src){
  modalTitle.textContent = title || "エクササイズ画像";
  modalBody.innerHTML = "";
  if(src){
    const img = new Image();
    img.alt = title || "";
    img.onload = function(){
      modalBody.innerHTML = "";
      modalBody.appendChild(img);
    };
    img.onerror = function(){
      showPlaceholder(title);
    };
    img.src = src;
  }else{
    showPlaceholder(title);
  }
  modal.classList.add("open");
}

function showPlaceholder(title){
  modalBody.innerHTML = "";
  const div = document.createElement("div");
  div.className = "placeholder";
  div.textContent = `${title || ""}（画像未設定：../img/build/ に写真を追加）`;
  modalBody.appendChild(div);
}

modalClose.addEventListener("click", ()=>modal.classList.remove("open"));
modal.addEventListener("click", e=>{
  if(e.target===modal) modal.classList.remove("open");
});

contentEl.addEventListener("click", e=>{
  const btn = e.target.closest(".btn-ill");
  if(!btn) return;
  openModal(btn.dataset.name, btn.dataset.img);
});

/* util */
function escapeHtml(str){
  return String(str ?? "")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

/* 初期描画 */
switchDay("day1");

/* PWA：Service Worker 登録（任意：ファイルがある場合のみ） */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js")
    .then(()=>console.log("Service Worker registered"))
    .catch(err=>console.log("SW registration failed",err));
}
</script>
</body>
</html>
